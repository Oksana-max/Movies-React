{"version":3,"file":"static/js/236.30ede883.chunk.js","mappings":"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","sources":["images/placeholderImg.svg","webpack://app-movies/./src/components/ButtonBookmark/ButtonBookmark.module.scss?2fe3","components/ButtonBookmark/ButtonBookmark.jsx","webpack://app-movies/./src/components/Slide/Slide.module.scss?22dc","components/Slide/Slide.jsx","lib/imageIsLoaded.js"],"sourcesContent":["var _rect;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgPlaceholderImg(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 200,\n    height: 300,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"100%\",\n    height: \"100%\",\n    fill: \"#cccccc\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaceholderImg);\nexport default __webpack_public_path__ + \"static/media/placeholderImg.5afa0166442fb6a712db3f2341b81a2c.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"btnAdd\":\"ButtonBookmark_btnAdd__MKjhL\"};","import React, { useState } from \"react\";\r\nimport s from \"./ButtonBookmark.module.scss\";\r\nimport useAuth from \"../providers/useAuth\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nexport default function ButtonBookmark({ el }) {\r\n  const [activeBtn, setActiveBtn] = useState(localStorage.getItem(el.id + \"AddedFilms\") || \"false\");\r\n  const [isDisable, setIsDisable] = useState(JSON.parse(localStorage.getItem(el.id + \"DisabledFilms\") || false));\r\n  const [dataTitle, setDataTitle] = useState(localStorage.getItem(el.id + \"dataTitle\") || \"Добавить в избранное\");\r\n\r\n  const { user, db } = useAuth();\r\n\r\n  const addFilms = async (name, id, poster, description, year) => {\r\n    try {\r\n      const docRef = await addDoc(collection(db, \"films\" + user._id), {\r\n        name: name,\r\n        id: id,\r\n        poster,\r\n        description,\r\n        year,\r\n      });\r\n\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n    } catch (e) {\r\n      console.error(\"Error adding document: \", e);\r\n    }\r\n  };\r\n  async function handleClick() {\r\n    localStorage.setItem(el.id + \"dataTitle\", \"Добавлено\");\r\n    let dataTitle = localStorage.getItem(el.id + \"dataTitle\") || \"Добавить в избранное\";\r\n    setDataTitle(dataTitle);\r\n\r\n    localStorage.setItem(el.id + \"DisabledFilms\", JSON.stringify(true));\r\n    let disable = JSON.parse(localStorage.getItem(el.id + \"DisabledFilms\") || false);\r\n    setIsDisable(disable);\r\n\r\n    localStorage.setItem(el.id + \"AddedFilms\", \"true\");\r\n    let activeBtn = localStorage.getItem(el.id + \"AddedFilms\") || \"false\";\r\n    setActiveBtn(activeBtn);\r\n  }\r\n  return (\r\n    <button\r\n      className={s.btnAdd}\r\n      disabled={isDisable}\r\n      data-title={dataTitle}\r\n      onClick={() => {\r\n        handleClick();\r\n        addFilms(el.name, el.id, el.poster.url, el.description, el.year);\r\n      }}>\r\n      {activeBtn === \"false\" ? <i className=\"bx bx-bookmarks\"></i> : <i className=\"bx bxs-bookmarks\"></i>}\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"swiper\":\"Slide_swiper__2pJhv\",\"swiper-vertical\":\"Slide_swiper-vertical__g95zN\",\"swiper-wrapper\":\"Slide_swiper-wrapper__Vrbun\",\"swiper-android\":\"Slide_swiper-android__qmuCA\",\"swiper-slide\":\"Slide_swiper-slide__GmCvy\",\"swiper-ios\":\"Slide_swiper-ios__Izhpz\",\"swiper-horizontal\":\"Slide_swiper-horizontal__hUPce\",\"swiper-slide-invisible-blank\":\"Slide_swiper-slide-invisible-blank__A+D6Q\",\"swiper-autoheight\":\"Slide_swiper-autoheight__H6F0B\",\"swiper-backface-hidden\":\"Slide_swiper-backface-hidden__HLSFf\",\"swiper-3d\":\"Slide_swiper-3d__fE5EU\",\"swiper-css-mode\":\"Slide_swiper-css-mode__7kZoC\",\"swiper-cube-shadow\":\"Slide_swiper-cube-shadow__YivlE\",\"swiper-free-mode\":\"Slide_swiper-free-mode__IIdiY\",\"swiper-centered\":\"Slide_swiper-centered__+dPsn\",\"swiper-slide-shadow\":\"Slide_swiper-slide-shadow__r2hg4\",\"swiper-slide-shadow-left\":\"Slide_swiper-slide-shadow-left__RyURo\",\"swiper-slide-shadow-right\":\"Slide_swiper-slide-shadow-right__zUi98\",\"swiper-slide-shadow-top\":\"Slide_swiper-slide-shadow-top__1k-NG\",\"swiper-slide-shadow-bottom\":\"Slide_swiper-slide-shadow-bottom__UiiNc\",\"swiper-lazy-preloader\":\"Slide_swiper-lazy-preloader__Pfy1X\",\"swiper-watch-progress\":\"Slide_swiper-watch-progress__7t7WR\",\"swiper-slide-visible\":\"Slide_swiper-slide-visible__Wjmlf\",\"swiper-preloader-spin\":\"Slide_swiper-preloader-spin__w4-to\",\"swiper-lazy-preloader-white\":\"Slide_swiper-lazy-preloader-white__OHECS\",\"swiper-lazy-preloader-black\":\"Slide_swiper-lazy-preloader-black__77rGN\",\"slide\":\"Slide_slide__kNDWm\",\"slide__rating\":\"Slide_slide__rating__zyIky\",\"slide__link\":\"Slide_slide__link__ztfDI\",\"slide__img\":\"Slide_slide__img__mOQwQ\",\"slide__title\":\"Slide_slide__title__Pb6fx\",\"slide__text\":\"Slide_slide__text__4GLpL\",\"btnAdd\":\"Slide_btnAdd__LQHyN\"};","import React, { useState, useEffect, useRef } from \"react\";\r\nimport s from \"./Slide.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useAuth from \"../providers/useAuth\";\r\nimport ButtonBookmark from \"../ButtonBookmark/ButtonBookmark\";\r\nimport Placeholder from \"../../images/placeholderImg.svg\";\r\nimport ImageIsLoaded from \"../../lib/imageIsLoaded.js\";\r\n\r\nexport default function Slide({ el, addFilms }) {\r\n  const { user } = useAuth();\r\n  const { isLoaded, handleOnLoad } = ImageIsLoaded();\r\n\r\n  return (\r\n    <>\r\n      <Link to={\"/movie/\" + el.id} className={s.slide__link}>\r\n        <span className={s.slide__rating}>{el.rating ? el.rating.kp.toFixed(1) : \"\"}</span>\r\n        <div className={s.slide__img}>\r\n          {isLoaded === false ? (\r\n            <img onLoad={handleOnLoad} loading=\"lazy\" src={el.poster ? el.poster.previewUrl : \"\"} alt={el.name} />\r\n          ) : (\r\n            <img src={Placeholder} alt=\"Картинка\"></img>\r\n          )}\r\n        </div>\r\n      </Link>\r\n      <div className={s.slide__info}>\r\n        <h2 className={s.slide__title}>{el.name}</h2>\r\n        <div className={s.slide__text}>\r\n          {el.movieLength ? `${el.year}, ${el.movieLength}мин` : el.year}\r\n          {user && <ButtonBookmark el={el} addFilms={addFilms}></ButtonBookmark>}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nconst ImageIsLoaded = () => {\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const handleOnLoad = () => {\r\n    setIsLoaded(false);\r\n  };\r\n  useEffect(() => {\r\n    handleOnLoad();\r\n  }, []);\r\n\r\n  return { isLoaded, handleOnLoad };\r\n};\r\nexport default ImageIsLoaded;\r\n"],"names":["ButtonBookmark","_ref","el","_useState","useState","localStorage","getItem","id","_useState2","_slicedToArray","activeBtn","setActiveBtn","_useState3","JSON","parse","_useState4","isDisable","setIsDisable","_useState5","_useState6","dataTitle","setDataTitle","_useAuth","useAuth","user","db","addFilms","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","name","poster","description","year","docRef","wrap","_context","prev","next","addDoc","collection","_id","sent","console","log","t0","error","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","_handleClick","_callee2","disable","_context2","setItem","stringify","_jsx","className","s","btnAdd","disabled","onClick","handleClick","url","children","Slide","_ImageIsLoaded","ImageIsLoaded","isLoaded","handleOnLoad","_jsxs","_Fragment","Link","to","slide__link","slide__rating","rating","kp","toFixed","slide__img","onLoad","loading","src","previewUrl","alt","Placeholder","slide__info","slide__title","slide__text","movieLength","concat","setIsLoaded","useEffect"],"sourceRoot":""}