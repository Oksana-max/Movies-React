"use strict";(self.webpackChunkapp_movies=self.webpackChunkapp_movies||[]).push([[236],{2282:function(e,i,s){s(2791);i.Z=s.p+"static/media/placeholderImg.5afa0166442fb6a712db3f2341b81a2c.svg"},1919:function(e,i,s){s.d(i,{Z:function(){return p}});var d=s(4165),r=s(5861),l=s(9439),a=s(2791),t={btnAdd:"ButtonBookmark_btnAdd__MKjhL"},_=s(9206),n=s(2481),o=s(184);function p(e){var i=e.el,s=(0,_.Z)(),p=s.user,c=s.db,w=(0,a.useState)(localStorage.getItem(i.id+"AddedFilms"+p._id)||"false"),m=(0,l.Z)(w,2),u=m[0],h=m[1],S=(0,a.useState)(JSON.parse(localStorage.getItem(i.id+"DisabledFilms"+p._id)||!1)),f=(0,l.Z)(S,2),g=f[0],b=f[1],v=(0,a.useState)(localStorage.getItem(i.id+"dataTitle"+p._id)||"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),k=(0,l.Z)(v,2),x=k[0],y=k[1],Z=function(){var e=(0,r.Z)((0,d.Z)().mark((function e(i,s,r,l,a){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.ET)((0,n.hJ)(c,"films"+p._id),{name:i,id:s,poster:r,description:l,year:a});case 3:t=e.sent,console.log("Document written with ID: ",t.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(i,s,d,r,l){return e.apply(this,arguments)}}();function N(){return N=(0,r.Z)((0,d.Z)().mark((function e(){var s,r,l;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem(i.id+"dataTitle"+p._id,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),s=localStorage.getItem(i.id+"dataTitle"+p._id)||"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",y(s),localStorage.setItem(i.id+"DisabledFilms"+p._id,JSON.stringify(!0)),r=JSON.parse(localStorage.getItem(i.id+"DisabledFilms"+p._id)||!1),b(r),localStorage.setItem(i.id+"AddedFilms"+p._id,"true"),l=localStorage.getItem(i.id+"AddedFilms"+p._id)||"false",h(l);case 9:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}return(0,o.jsx)("button",{className:t.btnAdd,disabled:g,"data-title":x,onClick:function(){!function(){N.apply(this,arguments)}(),Z(i.name,i.id,i.poster.url,i.description,i.year)},children:"false"===u?(0,o.jsx)("i",{className:"bx bx-bookmarks"}):(0,o.jsx)("i",{className:"bx bxs-bookmarks"})})}},6236:function(e,i,s){s.r(i),s.d(i,{default:function(){return o}});s(2791);var d={swiper:"Slide_swiper__2pJhv","swiper-vertical":"Slide_swiper-vertical__g95zN","swiper-wrapper":"Slide_swiper-wrapper__Vrbun","swiper-android":"Slide_swiper-android__qmuCA","swiper-slide":"Slide_swiper-slide__GmCvy","swiper-ios":"Slide_swiper-ios__Izhpz","swiper-horizontal":"Slide_swiper-horizontal__hUPce","swiper-slide-invisible-blank":"Slide_swiper-slide-invisible-blank__A+D6Q","swiper-autoheight":"Slide_swiper-autoheight__H6F0B","swiper-backface-hidden":"Slide_swiper-backface-hidden__HLSFf","swiper-3d":"Slide_swiper-3d__fE5EU","swiper-css-mode":"Slide_swiper-css-mode__7kZoC","swiper-cube-shadow":"Slide_swiper-cube-shadow__YivlE","swiper-free-mode":"Slide_swiper-free-mode__IIdiY","swiper-centered":"Slide_swiper-centered__+dPsn","swiper-slide-shadow":"Slide_swiper-slide-shadow__r2hg4","swiper-slide-shadow-left":"Slide_swiper-slide-shadow-left__RyURo","swiper-slide-shadow-right":"Slide_swiper-slide-shadow-right__zUi98","swiper-slide-shadow-top":"Slide_swiper-slide-shadow-top__1k-NG","swiper-slide-shadow-bottom":"Slide_swiper-slide-shadow-bottom__UiiNc","swiper-lazy-preloader":"Slide_swiper-lazy-preloader__Pfy1X","swiper-watch-progress":"Slide_swiper-watch-progress__7t7WR","swiper-slide-visible":"Slide_swiper-slide-visible__Wjmlf","swiper-preloader-spin":"Slide_swiper-preloader-spin__w4-to","swiper-lazy-preloader-white":"Slide_swiper-lazy-preloader-white__OHECS","swiper-lazy-preloader-black":"Slide_swiper-lazy-preloader-black__77rGN",slide:"Slide_slide__kNDWm",slide__rating:"Slide_slide__rating__zyIky",slide__link:"Slide_slide__link__ztfDI",slide__img:"Slide_slide__img__mOQwQ",slide__title:"Slide_slide__title__Pb6fx",slide__text:"Slide_slide__text__4GLpL",btnAdd:"Slide_btnAdd__LQHyN"},r=s(1087),l=s(9206),a=s(1919),t=s(2282),_=s(4438),n=s(184);function o(e){var i=e.el,s=e.addFilms,o=(0,l.Z)().user,p=(0,_.Z)(),c=p.isLoaded,w=p.handleOnLoad;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.rU,{to:"/movie/"+i.id,className:d.slide__link,children:[(0,n.jsx)("span",{className:d.slide__rating,children:i.rating?i.rating.kp.toFixed(1):""}),(0,n.jsx)("div",{className:d.slide__img,children:!1===c?(0,n.jsx)("img",{onLoad:w,loading:"lazy",src:i.poster?i.poster.previewUrl:"",alt:i.name}):(0,n.jsx)("img",{src:t.Z,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})]}),(0,n.jsxs)("div",{className:d.slide__info,children:[(0,n.jsx)("h2",{className:d.slide__title,children:i.name}),(0,n.jsxs)("div",{className:d.slide__text,children:[i.movieLength?"".concat(i.year,", ").concat(i.movieLength,"\u043c\u0438\u043d"):i.year,o&&(0,n.jsx)(a.Z,{el:i,addFilms:s})]})]})]})}},4438:function(e,i,s){var d=s(9439),r=s(2791);i.Z=function(){var e=(0,r.useState)(!0),i=(0,d.Z)(e,2),s=i[0],l=i[1],a=function(){l(!1)};return(0,r.useEffect)((function(){a()}),[]),{isLoaded:s,handleOnLoad:a}}}}]);
//# sourceMappingURL=236.b4b80d71.chunk.js.map