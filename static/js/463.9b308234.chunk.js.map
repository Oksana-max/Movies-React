{"version":3,"file":"static/js/463.9b308234.chunk.js","mappings":"0NACA,GAAgB,UAAY,gCAAgC,gBAAkB,sCAAsC,kBAAoB,wCAAwC,gBAAkB,uC,mBCK5LA,GAAoBC,EAAAA,EAAAA,OAAK,kBAAM,6BAA8D,IAEpF,SAASC,IAEtB,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAkCL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAzCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAqBC,EAAAA,EAAAA,KAAbC,EAAIF,EAAJE,KAAMC,EAAEH,EAAFG,IAEdC,EAAAA,EAAAA,YAAU,WACR,GAAIF,EAAM,CACR,IAAMG,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACYC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWf,EAAI,QAAUD,EAAKiB,MAAM,KAAD,EAAjER,EAAaG,EAAAM,KACbR,EAAQ,GACdD,EAAcU,SAAQ,SAACC,GACrBV,EAAMW,KAAK,CAACD,EAAIE,OAAQF,EAAIG,IAC9B,IACA9B,EAASiB,GACTb,GAAa,GAAO,wBAAAe,EAAAY,OAAA,GAAAhB,EAAA,KACrB,kBARc,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KASfvB,GACF,CACF,GAAG,CAACH,EAAMC,IACV0B,QAAQC,IAAI,UAEZ,IAAMC,EAAU,eAAAC,GAAAzB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAwB,EAAOR,EAAIS,GAAI,OAAA1B,EAAAA,EAAAA,KAAAK,MAAA,SAAAsB,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,cAAAmB,EAAAnB,KAAA,GAC1BoB,EAAAA,EAAAA,KAAUd,EAAAA,EAAAA,IAAInB,EAAI,QAAUD,EAAKiB,IAAKM,IAAK,KAAD,EAChD9B,EAASD,EAAM2C,QAAO,SAACC,GAAG,OAAKA,EAAI,GAAGb,KAAOS,CAAI,KAEjDK,aAAaC,WAAWN,EAAO,YAAchC,EAAKiB,KAClDoB,aAAaC,WAAWN,EAAO,gBAAkBhC,EAAKiB,KACtDoB,aAAaC,WAAWN,EAAO,aAAehC,EAAKiB,KAAK,wBAAAgB,EAAAT,OAAA,GAAAO,EAAA,KACzD,gBAPeQ,EAAAC,GAAA,OAAAV,EAAAL,MAAA,KAAAC,UAAA,KAShB,OACEe,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAEC,UAAUC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8DACJC,EAAAA,EAAAA,KAAA,MAAIJ,UAAWC,EAAEI,gBAAgBF,SAC9BjD,GACCkD,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAEK,kBAAkBH,UAClCC,EAAAA,EAAAA,KAACG,EAAAA,GAAS,CACRC,OAAO,KACPC,MAAM,KACNC,OAAO,IACPC,MAAM,OACNC,UAAU,qBACVC,aAAc,CAAC,EACfC,iBAAiB,GACjBC,SAAS,OAIbX,EAAAA,EAAAA,KAAC7D,EAAiB,CAACyE,OAAQlE,EAAOqC,WAAYA,QAKxD,C","sources":["webpack://app-movies/./src/pages/MyBookmarks/MyBoorkmarks.module.scss?d366","pages/MyBookmarks/MyBookmarks.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"bookmarks\":\"MyBoorkmarks_bookmarks__UX-6y\",\"bookmarks__link\":\"MyBoorkmarks_bookmarks__link__shFpC\",\"bookmarks__center\":\"MyBoorkmarks_bookmarks__center__ZVMsk\",\"bookmarks__list\":\"MyBoorkmarks_bookmarks__list__OlC+j\"};","import React, { useEffect, useState, lazy } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\nimport useAuth from \"../../components/providers/useAuth\";\r\nimport { collection, getDocs, doc, deleteDoc } from \"firebase/firestore\";\r\nimport s from \"./MyBoorkmarks.module.scss\";\r\nimport { ThreeDots } from \"react-loader-spinner\";\r\nconst CardInMyBookmarks = lazy(() => import(\"../../components/CardInMyBookmarks/CardInMyBookmarks\"));\r\n\r\nexport default function MyBookmarks() {\r\n  // const navigate = useNavigate();\r\n  const [films, setFilms] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { user, db } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const fetchData = async () => {\r\n        const querySnapshot = await getDocs(collection(db, \"films\" + user._id));\r\n        const array = [];\r\n        querySnapshot.forEach((doc) => {\r\n          array.push([doc.data(), doc.id]);\r\n        });\r\n        setFilms(array);\r\n        setIsLoading(false);\r\n      };\r\n      fetchData();\r\n    }\r\n  }, [user, db]);\r\n  console.log(\"render\");\r\n\r\n  const deleteFilm = async (id, elId) => {\r\n    await deleteDoc(doc(db, \"films\" + user._id, id));\r\n    setFilms(films.filter((obj) => obj[0].id !== elId));\r\n    // localStorage.setItem(elId + \"dataTitle\", \"Добавить в избранное\");\r\n    localStorage.removeItem(elId + \"dataTitle\" + user._id);\r\n    localStorage.removeItem(elId + \"DisabledFilms\" + user._id);\r\n    localStorage.removeItem(elId + \"AddedFilms\" + user._id);\r\n  };\r\n\r\n  return (\r\n    <div className={s.bookmarks}>\r\n      <h1>Мои фильмы:</h1>\r\n      <ul className={s.bookmarks__list}>\r\n        {isLoading ? (\r\n          <div className={s.bookmarks__center}>\r\n            <ThreeDots\r\n              height=\"80\"\r\n              width=\"80\"\r\n              radius=\"9\"\r\n              color=\"#000\"\r\n              ariaLabel=\"three-dots-loading\"\r\n              wrapperStyle={{}}\r\n              wrapperClassName=\"\"\r\n              visible={true}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <CardInMyBookmarks movies={films} deleteFilm={deleteFilm} />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CardInMyBookmarks","lazy","MyBookmarks","_useState","useState","_useState2","_slicedToArray","films","setFilms","_useState3","_useState4","isLoading","setIsLoading","_useAuth","useAuth","user","db","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","array","wrap","_context","prev","next","getDocs","collection","_id","sent","forEach","doc","push","data","id","stop","apply","arguments","console","log","deleteFilm","_ref2","_callee2","elId","_context2","deleteDoc","filter","obj","localStorage","removeItem","_x","_x2","_jsxs","className","s","bookmarks","children","_jsx","bookmarks__list","bookmarks__center","ThreeDots","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","movies"],"sourceRoot":""}