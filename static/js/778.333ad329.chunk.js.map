{"version":3,"file":"static/js/778.333ad329.chunk.js","mappings":"qHAyBA,IAAe,IAA0B,kE,mGCxBzC,GAAgB,OAAS,gC,6BCIV,SAASA,EAAcC,GAAU,IAAPC,EAAED,EAAFC,GACvCC,GAAkCC,EAAAA,EAAAA,UAASC,aAAaC,QAAQJ,EAAGK,GAAK,eAAiB,SAAQC,GAAAC,EAAAA,EAAAA,GAAAN,EAAA,GAA1FO,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAAkCR,EAAAA,EAAAA,UAASS,KAAKC,MAAMT,aAAaC,QAAQJ,EAAGK,GAAK,mBAAoB,IAAOQ,GAAAN,EAAAA,EAAAA,GAAAG,EAAA,GAAvGI,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAkCd,EAAAA,EAAAA,UAASC,aAAaC,QAAQJ,EAAGK,GAAK,cAAgB,kHAAuBY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAAxGE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAE9BG,GAAqBC,EAAAA,EAAAA,KAAbC,EAAIF,EAAJE,KAAMC,EAAEH,EAAFG,GAERC,EAAQ,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,EAAMzB,EAAI0B,EAAQC,EAAaC,GAAI,IAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAElCC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAWjB,EAAI,QAAUD,EAAKmB,KAAM,CAC9DX,KAAMA,EACNzB,GAAIA,EACJ0B,OAAAA,EACAC,YAAAA,EACAC,KAAAA,IACC,KAAD,EANIC,EAAME,EAAAM,KAQZC,QAAQC,IAAI,6BAA8BV,EAAO7B,IAAI+B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,SAErDO,QAAQG,MAAM,0BAAyBV,EAAAS,IAAK,yBAAAT,EAAAW,OAAA,GAAAlB,EAAA,kBAE/C,gBAdamB,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,KAeY,SAAAC,IAYzB,OAZyBA,GAAA7B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA1B,SAAA4B,IAAA,IAAAtC,EAAAuC,EAAAjD,EAAA,OAAAmB,EAAAA,EAAAA,KAAAQ,MAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,OACEnC,aAAawD,QAAQ3D,EAAGK,GAAK,YAAa,0DACtCa,EAAYf,aAAaC,QAAQJ,EAAGK,GAAK,cAAgB,iHAC7Dc,EAAaD,GAEbf,aAAawD,QAAQ3D,EAAGK,GAAK,gBAAiBM,KAAKiD,WAAU,IACzDH,EAAU9C,KAAKC,MAAMT,aAAaC,QAAQJ,EAAGK,GAAK,mBAAoB,GAC1EU,EAAa0C,GAEbtD,aAAawD,QAAQ3D,EAAGK,GAAK,aAAc,QACvCG,EAAYL,aAAaC,QAAQJ,EAAGK,GAAK,eAAiB,QAC9DI,EAAaD,GAAW,wBAAAkD,EAAAX,OAAA,GAAAS,EAAA,KACzBD,EAAAF,MAAA,KAAAC,UAAA,CACD,OACEO,EAAAA,EAAAA,KAAA,UACEC,UAAWC,EAAEC,OACbC,SAAUnD,EACV,aAAYI,EACZgD,QAAS,YAnBX,WACwBX,EAAAF,MAAC,KAADC,UAAA,CAmBpBa,GACA3C,EAASxB,EAAG8B,KAAM9B,EAAGK,GAAIL,EAAG+B,OAAOqC,IAAKpE,EAAGgC,YAAahC,EAAGiC,KAC7D,EAAEoC,SACa,UAAd7D,GAAwBqD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAyBD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAGlF,C,wHCnDA,EAA2B,+BAA3B,EAA0E,oCAA1E,EAAiI,uCAAjI,EAAyL,qCAAzL,EAAiP,uCAAjP,EAAyS,qC,mBCkCzS,MA3BA,SAAqB/D,GAAiB,IAAdC,EAAED,EAAFC,GAAIsE,EAAKvE,EAALuE,MAC1BC,GAAmCC,EAAAA,EAAAA,KAA3BC,EAAQF,EAARE,SAAUC,EAAYH,EAAZG,aACVpD,GAASD,EAAAA,EAAAA,KAATC,KACR,OACEuC,EAAAA,EAAAA,KAAAc,EAAAA,SAAA,CAAAN,UACEO,EAAAA,EAAAA,MAAA,OAAKd,UAAWC,EAAWM,SAAA,EACzBR,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAmBM,SAAErE,EAAG6E,OAAOC,GAAGC,QAAQ,MAC3DlB,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAgBM,UAC9BR,EAAAA,EAAAA,KAACmB,EAAAA,GAAI,CAACC,GAAI,UAAYjF,EAAGK,GAAGgE,UACZ,IAAbI,GACCZ,EAAAA,EAAAA,KAAA,OAAKqB,OAAQR,EAAcS,QAAQ,OAAOC,IAAKpF,EAAG+B,OAAS/B,EAAG+B,OAAOsD,WAAa,GAAIC,IAAKtF,EAAG8B,QAE9F+B,EAAAA,EAAAA,KAAA,OAAKuB,IAAKG,EAAAA,EAAaD,IAAI,0DAIjCV,EAAAA,EAAAA,MAAA,OAAKd,UAAWC,EAAiBM,SAAA,EAC/BO,EAAAA,EAAAA,MAACI,EAAAA,GAAI,CAACC,GAAI,UAAYjF,EAAGK,GAAGgE,SAAA,EAC1BR,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAiBM,SAAErE,EAAG8B,QACrC+B,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAmBM,SAAErE,EAAGwF,YAAW,GAAAC,OAAMzF,EAAGiC,KAAI,MAAAwD,OAAKzF,EAAGwF,YAAW,sBAAQxF,EAAGiC,UAE/FX,IAAQuC,EAAAA,EAAAA,KAAC/D,EAAAA,EAAc,CAACE,GAAIA,SAhBAsE,IAqBvC,C,+CCrBA,IAZsB,WACpB,IAAArE,GAAgCC,EAAAA,EAAAA,WAAS,GAAKI,GAAAC,EAAAA,EAAAA,GAAAN,EAAA,GAAvCwE,EAAQnE,EAAA,GAAEoF,EAAWpF,EAAA,GAEtBoE,EAAe,WACnBgB,GAAY,EACd,EAKA,OAJAC,EAAAA,EAAAA,YAAU,WACRjB,GACF,GAAG,IAEI,CAAED,SAAAA,EAAUC,aAAAA,EACrB,C","sources":["images/placeholderImg.svg","webpack://app-movies/./src/components/ButtonBookmark/ButtonBookmark.module.scss?2fe3","components/ButtonBookmark/ButtonBookmark.jsx","webpack://app-movies/./src/components/CardForFilms/CardForFilms.module.scss?c52d","components/CardForFilms/CardForFilms.jsx","lib/imageIsLoaded.js"],"sourcesContent":["var _rect;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgPlaceholderImg(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 200,\n    height: 300,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"100%\",\n    height: \"100%\",\n    fill: \"#cccccc\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlaceholderImg);\nexport default __webpack_public_path__ + \"static/media/placeholderImg.5afa0166442fb6a712db3f2341b81a2c.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"btnAdd\":\"ButtonBookmark_btnAdd__MKjhL\"};","import React, { useState } from \"react\";\r\nimport s from \"./ButtonBookmark.module.scss\";\r\nimport useAuth from \"../providers/useAuth\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nexport default function ButtonBookmark({ el }) {\r\n  const [activeBtn, setActiveBtn] = useState(localStorage.getItem(el.id + \"AddedFilms\") || \"false\");\r\n  const [isDisable, setIsDisable] = useState(JSON.parse(localStorage.getItem(el.id + \"DisabledFilms\") || false));\r\n  const [dataTitle, setDataTitle] = useState(localStorage.getItem(el.id + \"dataTitle\") || \"Добавить в избранное\");\r\n\r\n  const { user, db } = useAuth();\r\n\r\n  const addFilms = async (name, id, poster, description, year) => {\r\n    try {\r\n      const docRef = await addDoc(collection(db, \"films\" + user._id), {\r\n        name: name,\r\n        id: id,\r\n        poster,\r\n        description,\r\n        year,\r\n      });\r\n\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n    } catch (e) {\r\n      console.error(\"Error adding document: \", e);\r\n    }\r\n  };\r\n  async function handleClick() {\r\n    localStorage.setItem(el.id + \"dataTitle\", \"Добавлено\");\r\n    let dataTitle = localStorage.getItem(el.id + \"dataTitle\") || \"Добавить в избранное\";\r\n    setDataTitle(dataTitle);\r\n\r\n    localStorage.setItem(el.id + \"DisabledFilms\", JSON.stringify(true));\r\n    let disable = JSON.parse(localStorage.getItem(el.id + \"DisabledFilms\") || false);\r\n    setIsDisable(disable);\r\n\r\n    localStorage.setItem(el.id + \"AddedFilms\", \"true\");\r\n    let activeBtn = localStorage.getItem(el.id + \"AddedFilms\") || \"false\";\r\n    setActiveBtn(activeBtn);\r\n  }\r\n  return (\r\n    <button\r\n      className={s.btnAdd}\r\n      disabled={isDisable}\r\n      data-title={dataTitle}\r\n      onClick={() => {\r\n        handleClick();\r\n        addFilms(el.name, el.id, el.poster.url, el.description, el.year);\r\n      }}>\r\n      {activeBtn === \"false\" ? <i className=\"bx bx-bookmarks\"></i> : <i className=\"bx bxs-bookmarks\"></i>}\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"filmCard\":\"CardForFilms_filmCard__Clc51\",\"filmCard__img\":\"CardForFilms_filmCard__img__iIvpZ\",\"filmCard__rating\":\"CardForFilms_filmCard__rating__Ownkr\",\"filmCard__name\":\"CardForFilms_filmCard__name__NPoAS\",\"filmCard__length\":\"CardForFilms_filmCard__length__PQM4r\",\"filmCard__info\":\"CardForFilms_filmCard__info__8Zzg6\"};","import React from \"react\";\r\nimport Placeholder from \"../../images/placeholderImg.svg\";\r\nimport ImageIsLoaded from \"../../lib/imageIsLoaded.js\";\r\nimport ButtonBookmark from \"../../components/ButtonBookmark/ButtonBookmark\";\r\nimport { Link } from \"react-router-dom\";\r\nimport s from \"./CardForFilms.module.scss\";\r\nimport useAuth from \"../../components/providers/useAuth\";\r\n\r\nfunction CardForFilms({ el, index }) {\r\n  const { isLoaded, handleOnLoad } = ImageIsLoaded();\r\n  const { user } = useAuth();\r\n  return (\r\n    <>\r\n      <div className={s.filmCard} key={index}>\r\n        <span className={s.filmCard__rating}>{el.rating.kp.toFixed(1)}</span>\r\n        <div className={s.filmCard__img}>\r\n          <Link to={\"/movie/\" + el.id}>\r\n            {isLoaded === false ? (\r\n              <img onLoad={handleOnLoad} loading=\"lazy\" src={el.poster ? el.poster.previewUrl : \"\"} alt={el.name} />\r\n            ) : (\r\n              <img src={Placeholder} alt=\"Картинка\"></img>\r\n            )}\r\n          </Link>\r\n        </div>\r\n        <div className={s.filmCard__info}>\r\n          <Link to={\"/movie/\" + el.id}>\r\n            <h2 className={s.filmCard__name}>{el.name}</h2>\r\n            <div className={s.filmCard__length}>{el.movieLength ? `${el.year}, ${el.movieLength}мин` : el.year}</div>\r\n          </Link>\r\n          {user && <ButtonBookmark el={el}></ButtonBookmark>}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default CardForFilms;\r\n","import React, { useEffect, useState } from \"react\";\r\nconst ImageIsLoaded = () => {\r\n  const [isLoaded, setIsLoaded] = useState(true);\r\n\r\n  const handleOnLoad = () => {\r\n    setIsLoaded(false);\r\n  };\r\n  useEffect(() => {\r\n    handleOnLoad();\r\n  }, []);\r\n\r\n  return { isLoaded, handleOnLoad };\r\n};\r\nexport default ImageIsLoaded;\r\n"],"names":["ButtonBookmark","_ref","el","_useState","useState","localStorage","getItem","id","_useState2","_slicedToArray","activeBtn","setActiveBtn","_useState3","JSON","parse","_useState4","isDisable","setIsDisable","_useState5","_useState6","dataTitle","setDataTitle","_useAuth","useAuth","user","db","addFilms","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","name","poster","description","year","docRef","wrap","_context","prev","next","addDoc","collection","_id","sent","console","log","t0","error","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","_handleClick","_callee2","disable","_context2","setItem","stringify","_jsx","className","s","btnAdd","disabled","onClick","handleClick","url","children","index","_ImageIsLoaded","ImageIsLoaded","isLoaded","handleOnLoad","_Fragment","_jsxs","rating","kp","toFixed","Link","to","onLoad","loading","src","previewUrl","alt","Placeholder","movieLength","concat","setIsLoaded","useEffect"],"sourceRoot":""}