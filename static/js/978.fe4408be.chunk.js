"use strict";(self.webpackChunkapp_movies=self.webpackChunkapp_movies||[]).push([[978],{2978:function(e,n,i){i.r(n),i.d(n,{default:function(){return f}});var s=i(3433),a=i(9439),t=i(2791),l={films:"Films_films__Um9mn",films__wrapper:"Films_films__wrapper__BTOJ-",films__link:"Films_films__link__6NIeI",films__pagination:"Films_films__pagination__HzBD+",films__loadMore:"Films_films__loadMore__7QpVf"},c=i(7689),m=(i(5592),i(3762)),o=i(184),_=(0,t.lazy)((function(){return i.e(778).then(i.bind(i,6778))}));function f(){for(var e,n=(0,t.useState)([]),i=(0,a.Z)(n,2),f=i[0],r=i[1],u=(0,t.useState)(1),p=(0,a.Z)(u,2),d=p[0],h=p[1],v=(0,t.useState)(!0),j=(0,a.Z)(v,2),k=j[0],g=j[1],x=(0,t.useState)(!0),Z=(0,a.Z)(x,2),b=Z[0],E=Z[1],T=(0,c.TH)().pathname.replace("/films/",""),w=0,F=Object.entries({comedy:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f",boevik:"\u0431\u043e\u0435\u0432\u0438\u043a",melodrama:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430",semejnyj:"\u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0439",uzhasy:"\u0443\u0436\u0430\u0441\u044b",fantastika:"\u0444\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430",drama:"\u0434\u0440\u0430\u043c\u0430"});w<F.length;w++){var N=(0,a.Z)(F[w],2),S=N[0],y=N[1];S===T&&(e=y)}(0,t.useEffect)((function(){!function(){var n="https://api.kinopoisk.dev/v1.3/movie?genres.name=".concat(e,"&limit=").concat(18,"&page=").concat(d);fetch(n,{method:"GET",headers:{"X-API-KEY":"RREJW8T-TTE4RVX-P9KEH5W-SW87B4J"}}).then((function(e){return e.json()})).then((function(e){r([].concat((0,s.Z)(f),(0,s.Z)(e.docs))),g(!1),E(!1)}))}()}),[e,d,18]);return k?(0,o.jsx)(m.Z,{}):(0,o.jsxs)("section",{className:l.films,children:[(0,o.jsx)("div",{className:l.films__wrapper,children:f.map((function(e,n){return(0,o.jsx)(_,{el:e,index:n})}))}),(0,o.jsx)("button",{className:l.films__loadMore,onClick:function(){E(!0),h(d+1)},children:b?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}),(0,o.jsx)("div",{className:l.films__pagination})]})}},5592:function(e,n,i){e.exports=i.p+"static/media/noImg.443a3e252c0c4da740fc.jpg"}}]);
//# sourceMappingURL=978.fe4408be.chunk.js.map